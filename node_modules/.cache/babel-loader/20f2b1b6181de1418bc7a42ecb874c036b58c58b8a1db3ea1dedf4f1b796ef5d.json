{"ast":null,"code":"import { SET_DESCRIPTION, SET_SHOW_DESCRIPTION } from '../constants';\nimport { setListData } from '../slices/taskSlices';\nexport const setDescription = description => ({\n  type: SET_DESCRIPTION,\n  payload: description\n});\nexport const setShowDescription = show => ({\n  type: SET_SHOW_DESCRIPTION,\n  payload: show\n});\nexport const handleDragEnd = (result, dispatch, listData) => {\n  const {\n    source,\n    destination\n  } = result;\n  if (!destination) {\n    return;\n  }\n  if (source.droppableId !== destination.droppableId) {\n    moveBetweenColumns(source, destination, dispatch, listData);\n  } else {\n    moveWithinColumn(source, destination, dispatch, listData);\n  }\n};\nconst moveBetweenColumns = (source, destination, dispatch, listData) => {\n  const [sourceCard] = listData.filter(ele => ele.id === source.droppableId);\n  const [destinationCard] = listData.filter(ele => ele.id === destination.droppableId);\n  const sourceList = [...sourceCard.task];\n  const destinationList = [...destinationCard.task];\n  const [removedList] = sourceList.splice(source.index, 1);\n  destinationList.splice(destination.index, 0, removedList);\n  const updatedList = listData.map(ele => {\n    if (ele.id === source.droppableId) {\n      return {\n        ...ele,\n        task: sourceList\n      };\n    } else if (ele.id === destination.droppableId) {\n      return {\n        ...ele,\n        task: destinationList\n      };\n    }\n    return ele;\n  });\n  dispatch(setListData(updatedList));\n  localStorage.setItem('List', JSON.stringify(updatedList));\n};\nconst moveWithinColumn = (source, destination, dispatch, listData) => {\n  const [sourceCard] = listData.filter(ele => ele.id === source.droppableId);\n  const sourceList = [...sourceCard.task];\n  const [removedList] = sourceList.splice(source.index, 1);\n  sourceList.splice(destination.index, 0, removedList);\n  const updatedList = listData.map(ele => {\n    if (ele.id === source.droppableId) {\n      return {\n        ...ele,\n        task: sourceList\n      };\n    }\n    return ele;\n  });\n  dispatch(setListData(updatedList));\n  localStorage.setItem('List', JSON.stringify(updatedList));\n};","map":{"version":3,"names":["SET_DESCRIPTION","SET_SHOW_DESCRIPTION","setListData","setDescription","description","type","payload","setShowDescription","show","handleDragEnd","result","dispatch","listData","source","destination","droppableId","moveBetweenColumns","moveWithinColumn","sourceCard","filter","ele","id","destinationCard","sourceList","task","destinationList","removedList","splice","index","updatedList","map","localStorage","setItem","JSON","stringify"],"sources":["/home/korbendalas/Public/kanban-board-test/src/store/actions/index.ts"],"sourcesContent":["import { SET_DESCRIPTION, SET_SHOW_DESCRIPTION } from '../constants';\nimport { setListData } from '../slices/taskSlices';\nimport { Dispatch } from 'redux';\nimport { Task, ListData } from '@/types/index';\n\nexport const setDescription = (description: string) => ({\n    type: SET_DESCRIPTION,\n    payload: description,\n});\n\nexport const setShowDescription = (show: boolean) => ({\n    type: SET_SHOW_DESCRIPTION,\n    payload: show,\n});\n\nexport const handleDragEnd = (\n    result: any,\n    dispatch: Dispatch,\n    listData: ListData[]\n) => {\n    const { source, destination } = result;\n\n    if (!destination) {\n        return;\n    }\n\n    if (source.droppableId !== destination.droppableId) {\n        moveBetweenColumns(source, destination, dispatch, listData);\n    } else {\n        moveWithinColumn(source, destination, dispatch, listData);\n    }\n};\n\nconst moveBetweenColumns = (\n    source: any,\n    destination: any,\n    dispatch: Dispatch,\n    listData: ListData[]\n) => {\n    const [sourceCard] = listData.filter((ele) => ele.id === source.droppableId);\n    const [destinationCard] = listData.filter(\n        (ele) => ele.id === destination.droppableId\n    );\n    const sourceList: Task[] = [...sourceCard.task];\n    const destinationList: Task[] = [...destinationCard.task];\n    const [removedList] = sourceList.splice(source.index, 1);\n    destinationList.splice(destination.index, 0, removedList);\n\n    const updatedList = listData.map((ele) => {\n        if (ele.id === source.droppableId) {\n            return { ...ele, task: sourceList };\n        } else if (ele.id === destination.droppableId) {\n            return { ...ele, task: destinationList };\n        }\n        return ele;\n    });\n\n    dispatch(setListData(updatedList));\n    localStorage.setItem('List', JSON.stringify(updatedList));\n};\n\nconst moveWithinColumn = (\n    source: any,\n    destination: any,\n    dispatch: Dispatch,\n    listData: ListData[]\n) => {\n    const [sourceCard] = listData.filter((ele) => ele.id === source.droppableId);\n    const sourceList: Task[] = [...sourceCard.task];\n    const [removedList] = sourceList.splice(source.index, 1);\n    sourceList.splice(destination.index, 0, removedList);\n\n    const updatedList = listData.map((ele) => {\n        if (ele.id === source.droppableId) {\n            return { ...ele, task: sourceList };\n        }\n        return ele;\n    });\n\n    dispatch(setListData(updatedList));\n    localStorage.setItem('List', JSON.stringify(updatedList));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}