{"ast":null,"code":"import { setListData } from \"../slices/taskSlices\";\nexport const handleDragEnd = result => (dispatch, getState) => {\n  const {\n    source,\n    destination\n  } = result;\n  const state = getState();\n  if (!destination) {\n    return;\n  }\n  if (source.droppableId !== destination.droppableId) {\n    const [sourceCard] = listData.filter(ele => ele.id === source.droppableId);\n    const [destinationCard] = listData.filter(ele => ele.id === destination.droppableId);\n    const sourceList = [...sourceCard.task];\n    const destinationList = [...destinationCard.task];\n    const [removedList] = sourceList.splice(source.index, 1);\n    destinationList.splice(destination.index, 0, removedList);\n    let UpdatedList = listData.map(ele => {\n      if (ele.id === source.droppableId) {\n        return {\n          ...ele,\n          task: sourceList\n        };\n      } else if (ele.id === destination.droppableId) {\n        return {\n          ...ele,\n          task: destinationList\n        };\n      }\n      return ele;\n    });\n    dispatch(setListData(UpdatedList));\n    localStorage.setItem('List', JSON.stringify(UpdatedList));\n  } else {\n    const [sourceCard] = listData.filter(ele => ele.id === source.droppableId);\n    const sourceList = [...sourceCard.task];\n    const [removedList] = sourceList.splice(source.index, 1);\n    sourceList.splice(destination.index, 0, removedList);\n    const UpdatedList = listData.map(ele => {\n      if (ele.id === source.droppableId) {\n        return {\n          ...ele,\n          task: sourceList\n        };\n      }\n      return ele;\n    });\n    dispatch(setListData(UpdatedList));\n    localStorage.setItem('List', JSON.stringify(UpdatedList));\n  }\n};","map":{"version":3,"names":["setListData","handleDragEnd","result","dispatch","getState","source","destination","state","droppableId","sourceCard","listData","filter","ele","id","destinationCard","sourceList","task","destinationList","removedList","splice","index","UpdatedList","map","localStorage","setItem","JSON","stringify"],"sources":["/home/korbendalas/Public/kanban-board-test/src/store/actions/index.js"],"sourcesContent":["import {setListData} from \"../slices/taskSlices\";\n\nexport const handleDragEnd = (result) => (dispatch, getState) => {\n    const { source, destination } = result;\n    const state = getState();\n\n    if (!destination) {\n        return;\n    }\n\n    if (source.droppableId !== destination.droppableId) {\n        const [sourceCard] = listData.filter((ele)=> ele.id === source.droppableId);\n        const [destinationCard] = listData.filter((ele)=> ele.id === destination.droppableId);\n        const sourceList =  [...sourceCard.task];\n        const destinationList = [...destinationCard.task];\n        const [removedList] = sourceList.splice(source.index, 1);\n        destinationList.splice(destination.index, 0, removedList);\n        let UpdatedList = listData.map((ele) => {\n            if(ele.id === source.droppableId){\n                return {...ele, task:sourceList}\n            }\n            else if(ele.id === destination.droppableId){\n                return {...ele, task: destinationList};\n            }\n            return ele;\n        })\n        dispatch(setListData(UpdatedList));\n        localStorage.setItem('List', JSON.stringify(UpdatedList))\n    } else {\n        const [sourceCard] = listData.filter((ele)=> ele.id === source.droppableId);\n        const sourceList =  [...sourceCard.task];\n        const [removedList] = sourceList.splice(source.index, 1);\n        sourceList.splice(destination.index, 0 , removedList);\n        const UpdatedList = listData.map((ele)=>{\n            if(ele.id === source.droppableId){\n                return {...ele, task: sourceList};\n            }\n            return ele;\n        })\n        dispatch(setListData(UpdatedList));\n        localStorage.setItem('List', JSON.stringify(UpdatedList))\n    }\n};\n"],"mappings":"AAAA,SAAQA,WAAW,QAAO,sBAAsB;AAEhD,OAAO,MAAMC,aAAa,GAAIC,MAAM,IAAK,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAC7D,MAAM;IAAEC,MAAM;IAAEC;EAAY,CAAC,GAAGJ,MAAM;EACtC,MAAMK,KAAK,GAAGH,QAAQ,CAAC,CAAC;EAExB,IAAI,CAACE,WAAW,EAAE;IACd;EACJ;EAEA,IAAID,MAAM,CAACG,WAAW,KAAKF,WAAW,CAACE,WAAW,EAAE;IAChD,MAAM,CAACC,UAAU,CAAC,GAAGC,QAAQ,CAACC,MAAM,CAAEC,GAAG,IAAIA,GAAG,CAACC,EAAE,KAAKR,MAAM,CAACG,WAAW,CAAC;IAC3E,MAAM,CAACM,eAAe,CAAC,GAAGJ,QAAQ,CAACC,MAAM,CAAEC,GAAG,IAAIA,GAAG,CAACC,EAAE,KAAKP,WAAW,CAACE,WAAW,CAAC;IACrF,MAAMO,UAAU,GAAI,CAAC,GAAGN,UAAU,CAACO,IAAI,CAAC;IACxC,MAAMC,eAAe,GAAG,CAAC,GAAGH,eAAe,CAACE,IAAI,CAAC;IACjD,MAAM,CAACE,WAAW,CAAC,GAAGH,UAAU,CAACI,MAAM,CAACd,MAAM,CAACe,KAAK,EAAE,CAAC,CAAC;IACxDH,eAAe,CAACE,MAAM,CAACb,WAAW,CAACc,KAAK,EAAE,CAAC,EAAEF,WAAW,CAAC;IACzD,IAAIG,WAAW,GAAGX,QAAQ,CAACY,GAAG,CAAEV,GAAG,IAAK;MACpC,IAAGA,GAAG,CAACC,EAAE,KAAKR,MAAM,CAACG,WAAW,EAAC;QAC7B,OAAO;UAAC,GAAGI,GAAG;UAAEI,IAAI,EAACD;QAAU,CAAC;MACpC,CAAC,MACI,IAAGH,GAAG,CAACC,EAAE,KAAKP,WAAW,CAACE,WAAW,EAAC;QACvC,OAAO;UAAC,GAAGI,GAAG;UAAEI,IAAI,EAAEC;QAAe,CAAC;MAC1C;MACA,OAAOL,GAAG;IACd,CAAC,CAAC;IACFT,QAAQ,CAACH,WAAW,CAACqB,WAAW,CAAC,CAAC;IAClCE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC,CAAC;EAC7D,CAAC,MAAM;IACH,MAAM,CAACZ,UAAU,CAAC,GAAGC,QAAQ,CAACC,MAAM,CAAEC,GAAG,IAAIA,GAAG,CAACC,EAAE,KAAKR,MAAM,CAACG,WAAW,CAAC;IAC3E,MAAMO,UAAU,GAAI,CAAC,GAAGN,UAAU,CAACO,IAAI,CAAC;IACxC,MAAM,CAACE,WAAW,CAAC,GAAGH,UAAU,CAACI,MAAM,CAACd,MAAM,CAACe,KAAK,EAAE,CAAC,CAAC;IACxDL,UAAU,CAACI,MAAM,CAACb,WAAW,CAACc,KAAK,EAAE,CAAC,EAAGF,WAAW,CAAC;IACrD,MAAMG,WAAW,GAAGX,QAAQ,CAACY,GAAG,CAAEV,GAAG,IAAG;MACpC,IAAGA,GAAG,CAACC,EAAE,KAAKR,MAAM,CAACG,WAAW,EAAC;QAC7B,OAAO;UAAC,GAAGI,GAAG;UAAEI,IAAI,EAAED;QAAU,CAAC;MACrC;MACA,OAAOH,GAAG;IACd,CAAC,CAAC;IACFT,QAAQ,CAACH,WAAW,CAACqB,WAAW,CAAC,CAAC;IAClCE,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC,CAAC;EAC7D;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}